<!DOCTYPE html>
<html>
	<head>
		<title>
			nsm - content files
		</title>
		
		<link rel='stylesheet' type='text/css' href='../css/footer.css'>
		<link rel='stylesheet' type='text/css' href='../css/menu.css'>
		<link rel='stylesheet' type='text/css' href='../css/pagestyle.css'>
		<link rel='stylesheet' type='text/css' href='../css/pre.css'>
		<link rel='icon' type='image/png' href='../files/favicon.ico'>
		
		<meta name='viewport' content='width=device-width, initial-scale=0.75, maximum-scale=1.0'>
		
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62165905-2"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		
		  gtag('config', 'UA-62165905-2');
		</script>
		
		<!-- uses google-code-prettify for syntax highlighting 
		     see https://github.com/google/code-prettify/ for more info -->
		<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
		
		<!-- uses Font Awesome for vector icons and social logos -->
		<script src="https://kit.fontawesome.com/b51e6952ec.js"></script>
		
		<!-- uses MathJax CDC for LaTeX support
		     see http://docs.mathjax.org/en/latest/start.html for more info -->
		<script type="text/x-mathjax-config">
			MathJax.Hub.Config
			({
				extensions: ["tex2jax.js"],
		    	jax: ["input/TeX", "output/HTML-CSS"],
				tex2jax: 
				{
					inlineMath: [['$','$'], ['\\(','\\)']],
					displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
					processEscapes: true
				},
				"HTML-CSS": { availableFonts: ["MathJax TeX"] }
			});
		</script>
		<script type="text/javascript" 
			    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js">
		</script>
		
		<!-- hack redirecting to a secure protocol when users 
		     visit domain using an insecure protocol -->
		<script>
			var host = "nifty-site-manager.gitlab.io";
			if ((host == window.location.host) && (window.location.protocol != "https:"))
				window.location.protocol = "https";	
		</script>
	</head>

	<body>
		<div class="header" id="header">
			<noselect>
				<img class="logo" src="../files/NIFT.png" width="200px">
		
				<p style="margin-bottom:0px">
					<noselect><a href="https://discord.gg/St8QXTG" title="Discord" class="discord"><i class="fab fa-discord fa-2x"></i></a> &nbsp; <a href="https://old.reddit.com/r/nift" title="Reddit" class="reddit"><i class="fab fa-reddit-square fa-2x"></i></a> &nbsp; <a href="https://twitter.com/nifty_site_man" title="Twitter" class="bb"><i class="fab fa-twitter-square fa-2x"></i></a></noselect>
				</p>
		
				<a href="../index.html" class="header_item">Home</a>
				<a href="../documentation.html" class="header_item">Documentation</a>
				<a href="../merchandise.html" class="header_item">Merchandise</a>
				<a href="../resources.html" class="header_item">Resources</a>
				<a href="../support.html" class="header_item">Support</a>
			</noselect>
		</div>

		<div class="content">
			<h3>
				Guide to writing content files
			</h3>
			
			<h4>
				Escaping characters
			</h4>
			<p>
				Nsm will escape the following characters: &tilde;, &excl;, &commat;, &num;, &percnt;, &Hat;, &ast;, &quest;, &lt;, &gt;. Just put <mono>\character-to-escape</mono>, for example to escape tilde use <mono>\&tilde;</mono>.
			</p>
			
			<p>
				<u>Note:</u> nsm does not, and will not, escape \$. This is because it conflicts with MathJax escaping \$. If you do not want to use MathJax on your site and want \$ escaped then manually uncomment the relevant code in <mono>PageBuilder.cpp</mono> before compiling and installing nsm.
			</p>
			
			<p>
				I have also stopped nsm from escaping & as it causes problems with some valid javascript code for example (not an issue with .js files, but is an issue for javascript code inside content/template files). You can program your own syntax for escaping & in to nsm if needed. Similarly if javascript code or otherwise is not working, one thing to try is searching for \ in all the content/template files and seeing if something is being escaped inside code, if it is comment the relevant escape code from <mono>PageBuilder.cpp</mono> then compile and install nsm again. 
			</p>
			
			<h4>
				Inputting <mono>pagetitle</mono> information
			</h4>
			<p>
				The title of a page may be inputted using <mono>&commat;pagetitle</mono>. For example in the file <mono>template/head.content</mono> you may want something along the lines of <mono>sitename - &commat;pagetitle</mono>.
			</p>
			
			<h4>
				Inputting OS information
			</h4>
			<p>
				You can use <mono>&commat;buildOS</mono> to add whether a page was built using nsm on Linux, Macintosh or Windows (<mono>&commat;currentOS</mono> will continue to do the same for backwards compatibility purposes). 
			</p>
			
			<h4>
				Inputting date, time and timezone information
			</h4>
			<p>
				The date and time that a page was built may be inputted using <mono>&commat;builddate</mono> and <mono>&commat;buildtime</mono> (<mono>&commat;currentdate</mono> and <mono>&commat;currenttime</mono> will continue to do the same for backwards compatibility purposes). The timezone this date and time information is associated with may also be inputted using <mono>&commat;buildtimezone</mono> (<mono>&commat;timezone</mono> will continue to do the same for backwards compatibility purposes).
			</p>
			
			<p>
				The date and time that a page was loaded may be inputted using <mono>&commat;loaddate</mono> and <mono>&commat;loadtime</mono>. The timezone this date and time information is associated with (ie. where the user is browsing the internet from) may also be inputted using <mono>&commat;loadtimezone</mono>.
			</p>
			
			<p>
				Also available are <mono>&commat;buildUTCtime</mono>, <mono>&commat;buildUTCdate</mono>, <mono>&commat;buildYY</mono> and <mono>&commat;buildYYYY</mono> (with <mono>&commat;currentUTCtime</mono>, <mono>&commat;currentUTCdate</mono>, <mono>&commat;currentYY</mono> and <mono>&commat;currentYYYY</mono> doing the same for backwards compatibility purposes), along with <mono>&commat;loadUTCtime</mono>, <mono>&commat;loadUTCdate</mono>, <mono>&commat;loadYY</mono> and <mono>&commat;loadYYYY</mono>.
			</p>
			
			<h4>
				Inputting text from other files
			</h4>
			<p>
				Text may be inputted from another file using <mono>&commat;input(path-to-file)</mono>, where <mono>path-to-file</mono> is the path from the main site directory to the input file.
			</p>
			
			<p>
				For example suppose inside your website directory you have <mono>template/footer.content</mono>:
			
				<div align="center">
					<pre class="inline rounded">
						Page was last built on &commat;currentdate.
					</pre>
				</div>
			</p>
			
			<p>
				To input <mono>template/footer.content</mono> into another file write:
			
				<div align="center">
					<pre class="inline rounded">
						&commat;input(template/footer.content)
					</pre>
				</div>
			</p>
			
			<p>
				<u>Note:</u> nsm will not let you create an input loop, for example you cannot have <mono>&commat;input(page.template)</mono> inside <mono>page.template</mono>, or any of the files that <mono>page.template</mono> inputs, or any of the files that they input, and so on. 
			</p>
			
			<h4>
				Path from pages to other pages/files
			</h4>
			
			<p>
				It is possible for pages $A$ and $B$ to be located in distinct directories yet input text from the same content file $X$. Consequently if content file $X$ contains a path to another page $Y$, you have the problem that the path from $A$ to $Y$ is not the same as the path from $B$ to $Y$. You can solve this non-constant path problem by using <mono>&commat;pathto(page-name)</mono> or <mono>&commat;pathtopage(page-name)</mono> where <mono>page-name</mono> is the page name for $Y$. When building a page, nsm will replace <mono>&commat;pathto(page-name)</mono> with the path from the page being built to page $Y$.
			</p>
			
			<p>
				An example of when users may find this useful is when writing menus for page templates, or adding local links for any template files. An example of a smaller version of the menu for this site using <mono>&commat;pathto(page-name)</mono> is below:
			
				<div align="center">
					<pre class="prettyprint linenums rounded">
						&lt;nav>
							&lt;ul class="drop_menu">
								&lt;li>&lt;/li>
								&lt;li class="dm_li">
									&lt;a href="&commat;pathto(index)">home&lt;/a>
								&lt;/li>
			
								&lt;li class ="dm_li">
									&lt;div class="dm_text">documentation&lt;/div>
									&lt;ul class ="drop_submenu">
										&lt;li class="dsm_li">&lt;a href="&commat;pathto(documentation/installing_nsm)">installing nsm&lt;/a>&lt;/li>
										&lt;li class="dsm_li">&lt;a href="&commat;pathto(documentation/nsm_tutorial)">nsm tutorial&lt;/a>&lt;/li>
										&lt;li class="dsm_li">&lt;a href="&commat;pathto(documentation/nsm_commands)">nsm commands&lt;/a>&lt;/li>
									&lt;/ul>
								&lt;/li>
			
								&lt;li class ="dm_li">
									&lt;a href="&commat;pathto(support)">support&lt;/a>
								&lt;/li>
								&lt;li>&lt;/li>
							&lt;/ul>
						&lt;/nav>
					</pre>
				</div>
			</p>
			
			<p>
				When using <mono>&commat;pathto(page-name)</mono> or <mono>&commat;pathtopage(page-name)</mono>, nsm will throw an error if the page is not being tracked by nsm. You can solve the non-constant path problem for arbitrary files by using <mono>&commat;pathtofile(path-to-file)</mono> where <mono>path-to-file</mono> is the path from the main site directory to file $Y$ (where page $Y$ above has been replaced with file $Y$). When building a page, nsm will throw an error if the file does not exist. 
			</p>
			
			<p>
				The footer content file for this site (inputted in the <mono>template/page.template</mono> file) is given below as an example using <mono>&commat;pathtofile(path-to-file)</mono>:
			
				<div align="center">
					<pre class="prettyprint linenums rounded">
						&lt;footer>
							&lt;hr>
							&lt;center>&lt;img src="&commat;pathtofile(site/files/nsm.png)" width="120">&lt;/center>
							&lt;!-- Signature purchased from logojoy.com -->
			
							&lt;p>
								&lt;b>Mirrors:&lt;/b> [&lt;a href="https://nifty-site-manager.com/">Official&lt;/a>] [&lt;a href="https://nifty-site-manager.bitbucket.io/">BitBucket&lt;/a>] [&lt;a href="https://nifty-site-manager.github.io/">GitHub&lt;/a>] [&lt;a href="https://nifty-site-manager.gitlab.io/">GitLab&lt;/a>] [&lt;a href="https://web.archive.org/web/https://www.nifty-site-manager.com/">archive.org&lt;/a>]
							&lt;/p>
			
							&lt;p>
								&lt;b>Repos:&lt;/b> [&lt;a href="https://bitbucket.org/nifty-site-manager/nsm/src/master/">BitBucket&lt;/a>] [&lt;a href="https://github.com/nifty-site-manager/nsm">GitHub&lt;/a>] [&lt;a href="https://gitlab.com/nifty-site-manager/nsm">GitLab&lt;/a>]
							&lt;/p>
			
							Page was last built on &commat;currentdate at &commat;currenttime (&commat;timezone) using &commat;currentOS. &lt;br>
			
							&lt;noselect>&lt;small>&copy;&nbsp;2015-&commat;loadYY &lt;a href="https://n-ham.com/">Nicholas Ham&lt;/a>&lt;/small>&lt;/noselect>
						&lt;/footer>
					</pre>
				</div>
			</p>
			
			<h4>
				Including css files
			</h4>
			<p>
				You can include a css file using <mono>&commat;cssinclude(path-to-css-file)</mono>, where <mono>path-to-css-file</mono> is the path from the main site directory to the css file (<u>not</u> the path from the page to the css file). When building a page, nsm will replace <mono>&commat;cssinclude(path-to-css-file)</mono> with:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;link rel='stylesheet' type='text/css' href='path-from-page-to-css-file'>
					</pre>
				</div>
			</p>
			
			<p>
				Alternatively you can use:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;link rel='stylesheet' type='text/css' href='&commat;pathtofile(path-to-css-file)'>
					</pre>
				</div>
			</p>
			
			<h4>
				Including img files
			</h4>
			<p>
				You can include am image file using <mono>&commat;imginclude(path-to-img-file)</mono>, where <mono>path-to-img-file</mono> is the path from the main site directory to the img file (<u>not</u> the path from the page to the img file). When building a page, nsm will replace <mono>&commat;imginclude(path-to-img-file)</mono> with the following:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;img src="path-from-page-to-img-file">
					</pre>
				</div>
			</p>
			
			<p>
				If you would like to set the width of an image, use something like the following in your source code:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;img src="&commat;pathtofile(path-to-img-file)" width="120">
					</pre>
				</div>
			</p>
			
			
			<h4>
				Including js files
			</h4>
			<p>
				You can include a js file using <mono>&commat;jsinclude(path-to-js-file)</mono>, where <mono>path-to-js-file</mono> is the path from the main site directory to the js file (<u>not</u> the path from the page to the js file). When building a page, nsm will replace <mono>&commat;jsinclude(path-to-js-file)</mono> with: 
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;script src="path-from-page-to-js-file">&lt;/script>
					</pre>
				</div>
			</p>
			
			<p>
				Alternatively you can use:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;script src="&commat;pathtofile(path-to-js-file)">&lt;/script>
					</pre>
				</div>
			</p>
			
			<h4>
				Including a favicon file
			</h4>
			<p>
				You can include a favicon file using <mono>&commat;faviconinclude(path-to-favicon-file)</mono>, where <mono>path-to-favicon-file</mono> is the path from the main site directory to the favicon file (<u>not</u> the path from the page to the favicon file). When building a page, nsm will replace <mono>&commat;faviconinclude(path-to-favicon-file)</mono> with:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;link rel='icon' type='image/png' href='path-from-page-to-favicon-file'>
					</pre>
				</div>
			</p>
			
			<p>
				Alternatively you can use:
			
				<div align="center">
					<pre class="prettyprint lang-js rounded inline">
						&lt;link rel='icon' type='image/png' href='&commat;pathtofile(path-to-favicon-file)'>
					</pre>
				</div>
			</p>
			
			<p>
				An example of using <mono>&commat;cssinclude(path-to-css-file)</mono>, <mono>&commat;jsinclude(path-to-js-file)</mono> and <mono>&commat;faviconinclude(path-to-favicon-file)</mono> is given below (I typically put these in a <mono>head.content</mono> file located in the <mono>template</mono> directory and included in the <mono>template/page.template</mono> file in between the <mono>&lt;head>&lt;/head></mono> tags):
			
				<div align="center">
					<pre class="prettyprint inline rounded">
						&commat;cssinclude("site/css/pagestyle.css")
						&commat;jsinclude("site/js/motion.css")
						&commat;faviconinclude("site/files/favicon.ico")
					</pre>
				</div>
			</p>
		</div>

		<div class="footer">
			<div class="footer_text"><center><img src="../files/nsm.png" width="120"></center></div>
		
			<p style="margin-top:2px">
				<b>Mirrors:</b> [<a href="https://nift.cc/">Official</a>] [<a href="https://nifty-site-manager.bitbucket.io/">BitBucket</a>] [<a href="https://nifty-site-manager.github.io/">GitHub</a>] [<a href="https://nifty-site-manager.gitlab.io/">GitLab</a>] [<a href="https://nifty-site-manager.netlify.com/">Netlify</a>]
			</p>
		
		<p>
				<noselect><a href="https://bitbucket.org/nifty-site-manager/nsm" title="BitBucket" class="bb"><i class="fab fa-bitbucket fa-2x"></i></a> &nbsp; <a href="https://github.com/nifty-site-manager/nsm" title="GitHub" class="gh"><i class="fab fa-github fa-2x"></i></a> &nbsp; <a href="https://gitlab.com/nifty-site-manager/nsm" title="GitLab" class="gl"><i class="fab fa-gitlab fa-2x"></i></a></noselect>
			</p>
		
			<p>
				<noselect><!--<a href="https://formulae.brew.sh/formula/nsm"><img src="../files/homebrew.png" height="40px" alt="Get it from the Homebrew store" title="OSX/Linux"></a> &nbsp;-->
				<a href="https://chocolatey.org/packages/nsm"><img src="../files/chocolatey.svg" height="40px" alt="Get it from the Chocolatey store" title="Windows"></a> &nbsp;
				<!--<a href="https://flathub.org/apps/details/com.n-ham.nsm"><img src="../files/flathub.png" height="40px" alt="Get it from the FlatHub store" title="Linux"></a> &nbsp;-->
				<a href="https://snapcraft.io/nsm"><img src="https://snapcraft.io/static/images/badges/en/snap-store-black.svg" height="40px" alt="Get it from the Snap Store" title="Linux"></a></noselect>
			</p>
		
			<noselect><div style="margin-top:-5px;margin-bottom:15px"><small>&copy;&nbsp;2015 - <script>document.write(new Date().getFullYear())</script> <a href="https://n-ham.com/">Nicholas Ham</a></small></div></noselect>
		</div>

		<script src='../js/process_pre_tags.js'></script>	
	</body>
</html>

<!-- 
	information on how to easily make and host a site similar to
	this may be found at any of the following mirrors:
		* https://nift.cc/
		* https://nifty-site-manager.com/ 
		* https://nifty-site-manager.bitbucket.io/ 
		* https://nifty-site-manager.github.io/ 
		* https://nifty-site-manager.gitlab.io/ 
		* https://nifty-site-manager.netlify.com/
-->
